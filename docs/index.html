<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Dynamic Conservation Action Planning with Mathematical Programming • prioriactionsDynamics</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css"><script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet"><script src="pkgdown.js"></script><meta property="og:title" content="Dynamic Conservation Action Planning with Mathematical Programming"><meta property="og:description" content="The prioriactionsDynamics package is a powerful tool designed for deterministic dynamic mathematical modeling, specifically tailored for guiding conservation action planning. By utilizing integer programming models, this package simulates various threats, aiding decision-makers in determining optimal conservation actions, their locations, and timing."><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">prioriactionsDynamics</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="reference/index.html">Reference</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"></ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<h1 id="prioriactionsdynamics-dynamic-conservation-action-planning-with-mathematical-modeling">prioriactionsDynamics: Dynamic Conservation Action Planning with Mathematical Modeling<a class="anchor" aria-label="anchor" href="#prioriactionsdynamics-dynamic-conservation-action-planning-with-mathematical-modeling"></a></h1>
<div class="section level2">
<h2 id="overview">Overview<a class="anchor" aria-label="anchor" href="#overview"></a></h2>
<p>The <code>prioriactionsDynamics</code> package is a powerful tool designed for deterministic dynamic mathematical modeling, specifically tailored for guiding conservation action planning. By utilizing integer programming models, this package simulates various threats, aiding decision-makers in determining optimal conservation actions, their locations, and timing.</p>
</div>
<div class="section level2">
<h2 id="overview-1">Overview<a class="anchor" aria-label="anchor" href="#overview-1"></a></h2>
<p>Ensure you have the “remotes” package installed. If not, install it using the following command:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw">if</span> <span class="op">(</span><span class="op">!</span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">require</a></span><span class="op">(</span><span class="va"><a href="https://remotes.r-lib.org" class="external-link">remotes</a></span><span class="op">)</span><span class="op">)</span> <span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"remotes"</span><span class="op">)</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu"><a href="https://remotes.r-lib.org/reference/install_github.html" class="external-link">install_github</a></span><span class="op">(</span><span class="st">"prioriactions/prioriactionsDynamics"</span><span class="op">)</span></span>
<span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">prioriactionsDynamics</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="usage">Usage<a class="anchor" aria-label="anchor" href="#usage"></a></h2>
<p>The package follows a clear three-step process:</p>
<ol style="list-style-type: decimal"><li>
<strong><code>instance()</code></strong>: Create an instance for simulation or from a file. This function generates an instance for simulation or reads from a file to create an object with various components. It return a list representing the instance with various components.
<ul><li>
<strong><code>type</code></strong>: A character specifying the type of instance. Use “simulation” for simulation data or “file” for reading from a file.</li>
<li>
<strong><code>file</code></strong>: If type is “file,” the path to the file containing the instance data. The instance file has specific structure, please see the examples in the folder “inst”.</li>
<li>
<strong><code>n</code></strong>: An integer specifying the number of units (number of rows/columns in a grid).</li>
<li>
<strong><code>species</code></strong>: An integer specifying the number of species. All species will be simulated.</li>
<li>
<strong><code>threats</code></strong>: An integer specifying the number of threats. If <code>threats_lloc</code> is <code>NULL</code>. The distribution will be simulated.</li>
<li>
<strong><code>expansionType</code></strong>: A matrix specifying the expansion type. The matrix contain threats as rows and three columns, the values indicate he velocity of propagation. Column 1 = Radial Propagation, Column 2 = Downstream Propagation, and Column 3 = Upstream Propagation. Threats can propagate in more than one direction simultaneously.</li>
<li>
<strong><code>threats_lloc</code></strong>: A matrix specifying threat locations.</li>
<li>
<strong><code>dlong</code></strong>: A matrix specifying Downstream Distances.</li>
<li>
<strong><code>seed</code></strong>: An integer specifying the seed for reproducibility.</li>
</ul></li>
</ol><p>Example:</p>
<p><code>{r, echo=FALSE} data &lt;- prioriactionsDynamics::instance(type = "simulation")</code></p>
<ol start="2" style="list-style-type: decimal"><li>
<strong><code>model()</code></strong>: Create a dynamic model based on input parameters. This function takes input parameters and uses them to create a dynamic model. The model is designed for dynamic actions, and the input should be a list containing various components. It return a mathematical model based on the input parameters.
<ul><li>
<strong><code>input</code></strong>: A list containing inputs generated by the <strong><code>instance()</code></strong> function.</li>
<li>
<strong><code>objective</code></strong>: A string specifying the type of objective to achieve in the mathematical model. There are two options: “min_prop” (by default) and “max_relative_benefit”.</li>
<li>
<strong><code>levels</code></strong>: An integer specifying the number of levels of threats intensities in the model.</li>
<li>
<strong><code>periods</code></strong>: An integer specifying the number of planning periods.</li>
<li>
<strong><code>budget</code></strong>: A numeric scalar specifying the budget per period.</li>
</ul></li>
</ol><p>Example:</p>
<p><code>{r, echo=FALSE} m &lt;- prioriactionsDynamics::model(   input = data,   levels = 3,   periods = 5,   budget = 100000 )</code></p>
<ol start="3" style="list-style-type: decimal"><li>
<strong><code><a href="https://rdrr.io/r/base/solve.html" class="external-link">solve()</a></code></strong>: Solve a mathematical optimization problem using specified solver. This function takes an optimization problem represented by a list of matrices and vectors and solves it using either the CBC (install using the package <code>Rcbc</code>) or Gurobi solver. Return a list containing the solution to the optimization problem, including variable values and solver statistics
<ul><li>
<strong><code>a</code></strong>: A list containing information about the optimization problem, including coefficients, constraints, and other parameters.</li>
<li>
<strong><code>solver</code></strong>: A character specifying the solver to be used (“gurobi” or “cbc”).</li>
<li>
<strong><code>cores</code></strong>: An integer specifying the number of processor cores to be used.</li>
<li>
<strong><code>verbose</code></strong>: A logical value indicating whether to print solver output.</li>
<li>
<strong><code>gap_limit</code></strong>: A numeric scalar specifying the relative MIP (Mixed-Integer Programming) optimality gap as a stopping condition.</li>
</ul></li>
</ol><p>Example:</p>
<p>```{r, echo=FALSE} solution &lt;- prioriactionsDynamics::solve(model = m, solver = “gurobi”)</p>
<pre><code>
## **Additional Functions**

You can use the following functions to obtain additional information:

-   **`getActions(solution)`**: Retrieve information about conservation actions.

-   **`getPropagation(solution)`**: Obtain details about the propagation of threats.

These functions can be valuable for further analysis and decision-making based on the results of your dynamic conservation model.

## **Example of use**

To showcase the capabilities of the `prioriactionsDynamics` package, we present a simulated example. In this scenario, we begin by defining an expansion type matrix (`expType`) with a single non-zero element representing a specific place where the threat appear. We then use the `instance()` function to generate simulated inputs for a dynamic conservation model. These inputs include specifications for one threat, a 10 x 10 grid of units (100 in total), and two species, both responsive to the threat. With predefined threat locations and the previously defined expansion type (see the Figure below). Subsequently, we create a dynamic model (`m1`) using the `model()` function, specifying the desired maximum levels of intensity of the threat, number of planning periods, and an annual budget. Finally, we employ the `solve()` function to solve the optimization problem and obtain the solution (`sol`). This example provides a starting point for understanding the workflow of the `prioriactionsDynamics` package, from input generation to solving dynamic conservation planning problems. Feel free to modify the parameters and inputs.

```{r, echo=FALSE}
library(prioriactionsDynamics)

expType &lt;- matrix(0, nrow = 1, ncol = 3)
expType[1] &lt;- 1

thr_lloc &lt;- rep(0, 100)
thr_lloc[10] &lt;- 1

inputs &lt;- prioriactionsDynamics::instance(type = "simulation", threats = 1, n = 10, species = 2, threats_lloc = thr_lloc,
      expansionType = expType)
</code></pre>
<p><img src="Merged_document.png"></p>
<p>In the initial scenario, we employed an expansion type characterized solely as radial, featuring a velocity of 1 (representing the distance between centroids of the grid). Additionally, we assumed propagation between adjacent units. To discern the distinctions between proposed management strategies, we adjusted the budget accordingly. In blue, the actions are highlighted, while the threat levels are depicted in red. The propagation is determined by the sum of the costs of unaddressed threats.</p>
<p>```{r, echo=FALSE} m1 &lt;- model(input = inputs, levels = 4L, periods = 10L, budget = 6) sol &lt;- prioriactionsDynamics::solve(m1, solver = “gurobi”)</p>
<p>actions &lt;- prioriactionsDynamics::getActions(sol) prop &lt;- prioriactionsDynamics::getPropagation(sol) ``` We obtain:</p>
<p><img src="v1.gif"></p>
<p>In the following scenario, we introduce an increased propagation velocity (of 2 units of distance), and we observe that higher budget values are required to contain or eliminate the threat.</p>
<p><img src="v2.gif"></p>
<p>While these are demonstrative examples, the problem becomes more intricate when considering additional species or other planning objectives.</p>
</div>
<div class="section level2">
<h2 id="license"><strong>License</strong><a class="anchor" aria-label="anchor" href="#license"></a></h2>
<p>This project is licensed under the <a href="https://chat.openai.com/c/LICENSE.md" class="external-link">MIT License</a>.</p>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled"><li>GPL (&gt;= 2)</li>
</ul></div>


<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled"><li><a href="authors.html#citation">Citing prioriactionsDynamics</a></li>
</ul></div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled"><li>José Salgado-Rojas <br><small class="roles"> Maintainer </small>  </li>
</ul></div>

<div class="dev-status">
<h2 data-toc-skip>Dev Status</h2>
<ul class="list-unstyled"><li>placeholder</li>
</ul></div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by José Salgado-Rojas.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer></div>

  


  

  </body></html>

